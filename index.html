<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>kCALculator</title>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="jspdf.umd.min.js"></script>
    <script src="script.js"></script>
</head>
<body>

    <div class="container">
        <h1>kCALculator</h1>

        <!-- Food Selection Section -->
        <div class="food-entry">
            <select id="foodSelect" onchange="updateUnitLabel()">
                <option value="">-- Select Food --</option>
            </select>
            <input type="number" id="quantityInput" step="0.01" min="0" placeholder="Enter amount">

<div id="unitLabel" style="font-size:12px; opacity:0.7; margin-top:4px;"></div>


            <button onclick="addSelectedFood()">Add</button>
        </div>

        <div class="custom-food">
    <h2>Add Custom Food</h2>

    <input type="text" id="customName" placeholder="Food Name">
    <input type="number" id="customCalories" placeholder="Calories">
    <input type="number" id="customProtein" placeholder="Protein">
    <input type="number" id="customCarbs" placeholder="Carbs">
    <input type="number" id="customFat" placeholder="Fat">

    <button onclick="addCustomFood()">Add Custom Food</button>
</div>


        <!-- Added Items List -->
        <div class="food-list">
            <h2>Today's Items</h2>
            <ul id="addedFoods"></ul>
        </div>

        <!-- Calorie Goal Section -->
<div class="goal-section">
    <h2>Daily Goal</h2>

    <input type="number" id="calorieGoal" placeholder="Enter Calorie Goal (e.g. 3000)">
    <button onclick="setGoal()">Set Goal</button>

    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <p id="goalStatus">0% of goal reached</p>
</div>


        <!-- Totals Section -->
        <div class="totals">
            <h2>Totals</h2>
            <p>Calories: <span id="totalCalories">0</span> kcal</p>
            <p>Protein: <span id="totalProtein">0</span> g</p>
            <p>Carbs: <span id="totalCarbs">0</span> g</p>
            <p>Fat: <span id="totalFat">0</span> g</p>
        </div>

        <div class="macro-breakdown">
    <h2>Macro Breakdown</h2>
    <p id="macroDisplay">Protein: 0% | Carbs: 0% | Fat: 0%</p>
            <canvas id="macroChart"></canvas>

</div>
        
        <button onclick="saveDayToSheet()">Close & Save Day</button>

        <!-- Receipt Button -->
        <div class="receipt">
            <button onclick="downloadReceipt()">Download Receipt</button>
        </div>
    </div>

    
</body>
</html>
